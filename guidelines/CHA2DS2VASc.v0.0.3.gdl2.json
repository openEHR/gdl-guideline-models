{
  "id": "CHA2DS2VASc.v0.0.3",
  "gdl_version": "2.1",
  "concept": "gt0001",
  "language": {
    "original_language": "ISO_639-1::en"
  },
  "description": {
    "original_author": {
      "name": "Umiah Gohar",
      "email": "umiah.gohar@cambio.se",
      "organisation": "Cambio CDS",
      "date": "2024-12-30"
    },
    "lifecycle_state": "DRAFTED",
    "details": {
      "en": {
        "id": "en",
        "purpose": "To calculate and record an individual's CHA2DS2-VASc score parameters and total score.",
        "keywords": [
          "CHA2D2-VASc",
          "congestive heart failure",
          "hypertension",
          "age",
          "diabetes",
          "stroke",
          "vascular disease",
          "sex",
          "atrial fibrillation"
        ],
        "use": "Used for stroke risk stratification in patients with atrial fibrillation.\n\nCHA2DS2-VASc is an acronym, with each factor contributing points to the total score:\n-  Age 65 years 0p\n- Age 65-74 years 1p \n- Age ≥75 years 2p\n- Gender (Female) 1p\n- Gender (Male) 0p\n- Congestive heart failure 1p\n- Hypertension 1p\n- Diabetes 1p\n- Stroke/TIA/thromboembolism 2p\n- Vascular disease 1p\n\n\nThe maximum score is 9p and the result is interpreted as;\n0p - low risk\n1p - intermediate risk\n2p or more - high risk\n\nFurther interpretation in accordance with:\n0p- stroke risk 0,2% per year, risk of stroke/TIA/thromboembolism 0,3% per year\n1p - stroke risk 0,6% per year, risk of stroke/TIA/thromboembolism 0,9% per year\n2p - stroke risk 2,2% per year, risk of stroke/TIA/thromboembolism 2,9% per year\n3p - stroke risk 3,2% per year, risk of stroke/TIA/thromboembolism 4,6% per year\n4p - stroke risk 4,8% per year, risk of stroke/TIA/thromboembolism 6,7% per year\n5p - stroke risk 7,2% per year, risk of stroke/TIA/thromboembolism 10,0% per year\n6p - stroke risk 9,7% per year, risk of stroke/TIA/thromboembolism 13,6% per year\n7p - stroke risk 11,2% per year, risk of stroke/TIA/thromboembolism 15,7% per year\n8p - stroke risk 10,8% per year, risk of stroke/TIA/thromboembolism 15,2% per year\n9p - stroke risk 12,2% per year, risk of stroke/TIA/thromboembolism 17,4% per year",
        "misuse": "Not to be used in patients with no diagnosis of atrial fibrillation.\n\nPresence of other thrombotic risk factors (e.g., impaired renal function) may adversely impact the performance of this score. Interpretation of this score in such patients should be made with caution and with consideration of individual clinical contexts.",
        "copyright": "© Cambio CDS"
      }
    },
    "other_details": {
      "en": "Calculates stroke risk for patients with atrial fibrillation.",
      "references": "Lip GY, Nieuwlaat R, Pisters R, Lane DA, Crijns HJ. Refining clinical risk stratification for predicting stroke and thromboembolism in atrial fibrillation using a novel risk factor-based approach: the euro heart survey on atrial fibrillation. Chest. 2010 Feb;137(2):263-72. doi: 10.1378/chest.09-1584. Epub 2009 Sep 17. PMID: 19762550.\n\nEuropean Heart Rhythm Association; European Association for Cardio-Thoracic Surgery; Camm AJ, Kirchhof P, Lip GY, Schotten U, Savelieva I, Ernst S, Van Gelder IC, Al-Attar N, Hindricks G, Prendergast B, Heidbuchel H, Alfieri O, Angelini A, Atar D, Colonna P, De Caterina R, De Sutter J, Goette A, Gorenek B, Heldal M, Hohloser SH, Kolh P, Le Heuzey JY, Ponikowski P, Rutten FH. Guidelines for the management of atrial fibrillation: the Task Force for the Management of Atrial Fibrillation of the European Society of Cardiology (ESC). Eur Heart J. 2010 Oct;31(19):2369-429. doi: 10.1093/eurheartj/ehq278. Epub 2010 Aug 29. Erratum in: Eur Heart J. 2011 May;32(9):1172. PMID: 20802247.\n\nLip GY, Frison L, Halperin JL, Lane DA. Identifying patients at high risk for stroke despite anticoagulation: a comparison of contemporary stroke risk stratification schemes in an anticoagulated atrial fibrillation cohort. Stroke. 2010 Dec;41(12):2731-8. doi: 10.1161/STROKEAHA.110.590257. Epub 2010 Oct 21. PMID: 20966417.\n\nFriberg L, Rosenqvist M, Lip GY. Evaluation of risk stratification schemes for ischaemic stroke and bleeding in 182 678 patients with atrial fibrillation: the Swedish Atrial Fibrillation cohort study. Eur Heart J. 2012 Jun;33(12):1500-10. doi: 10.1093/eurheartj/ehr488. Epub 2012 Jan 13. PMID: 22246443."
    }
  },
  "definition": {
    "data_bindings": {
      "gt0040": {
        "id": "gt0040",
        "model_id": "openEHR-EHR-OBSERVATION.chadsvas_score.v0",
        "template_id": "openEHR-EHR-OBSERVATION.chadsvas_score.v0",
        "type": "INPUT",
        "elements": {
          "gt0041": {
            "id": "gt0041",
            "path": "/data[at0002]/events[at0003]/data[at0001]/items[at0035]",
            "data_type": "DV_ORDINAL",
            "allowed_values": [
              "0|local::at0036|Under 65|",
              "1|local::at0037|Between 65-74|",
              "2|local::at0038|Above or equals to 75|"
            ]
          },
          "gt0042": {
            "id": "gt0042",
            "path": "/data[at0002]/events[at0003]/data[at0001]/items[at0042]",
            "data_type": "DV_ORDINAL",
            "allowed_values": [
              "0|local::at0043|Male|",
              "1|local::at0044|Female|"
            ]
          },
          "gt0043": {
            "id": "gt0043",
            "path": "/data[at0002]/events[at0003]/data[at0001]/items[at0026]",
            "data_type": "DV_ORDINAL",
            "allowed_values": [
              "0|local::at0027|Absent|",
              "1|local::at0028|Present|"
            ]
          },
          "gt0044": {
            "id": "gt0044",
            "path": "/data[at0002]/events[at0003]/data[at0001]/items[at0029]",
            "data_type": "DV_ORDINAL",
            "allowed_values": [
              "0|local::at0027|Absent|",
              "1|local::at0028|Present|"
            ]
          },
          "gt0045": {
            "id": "gt0045",
            "path": "/data[at0002]/events[at0003]/data[at0001]/items[at0039]",
            "data_type": "DV_ORDINAL",
            "allowed_values": [
              "0|local::at0027|Absent|",
              "2|local::at0028|Present|"
            ]
          },
          "gt0046": {
            "id": "gt0046",
            "path": "/data[at0002]/events[at0003]/data[at0001]/items[at0046]",
            "data_type": "DV_ORDINAL",
            "allowed_values": [
              "0|local::at0027|Absent|",
              "1|local::at0028|Present|"
            ]
          },
          "gt0047": {
            "id": "gt0047",
            "path": "/data[at0002]/events[at0003]/data[at0001]/items[at0032]",
            "data_type": "DV_ORDINAL",
            "allowed_values": [
              "0|local::at0027|Absent|",
              "1|local::at0028|Present|"
            ]
          }
        }
      },
      "gt0048": {
        "id": "gt0048",
        "model_id": "openEHR-EHR-OBSERVATION.chadsvas_score.v0",
        "template_id": "openEHR-EHR-OBSERVATION.chadsvas_score.v0",
        "type": "OUTPUT",
        "elements": {
          "gt0049": {
            "id": "gt0049",
            "path": "/data[at0002]/events[at0003]/data[at0001]/items[at0099]",
            "data_type": "DV_COUNT"
          }
        }
      },
      "gt0050": {
        "id": "gt0050",
        "model_id": "openEHR-EHR-EVALUATION.cha2ds2_vasc_assessment.v0",
        "template_id": "openEHR-EHR-EVALUATION.cha2ds2_vasc_assessment.v0",
        "type": "OUTPUT",
        "elements": {
          "gt0051": {
            "id": "gt0051",
            "path": "/data[at0001]/items[at0003]",
            "data_type": "DV_ORDINAL",
            "allowed_values": [
              "0|local::at0008|0.6%|",
              "1|local::at0009|2.2%|",
              "2|local::at0010|3.2%|",
              "3|local::at0011|4.8%|",
              "4|local::at0012|7.2%|",
              "5|local::at0013|9.7%|",
              "6|local::at0014|11.2%|",
              "7|local::at0015|10.8%|",
              "8|local::at0016|12.2%|"
            ]
          },
          "gt0052": {
            "id": "gt0052",
            "path": "/data[at0001]/items[at0004]",
            "data_type": "DV_ORDINAL",
            "allowed_values": [
              "0|local::at0017|0.9%|",
              "1|local::at0018|2.9%|",
              "2|local::at0019|4.6%|",
              "3|local::at0020|6.7%|",
              "4|local::at0021|10.0%|",
              "5|local::at0022|13.6%|",
              "6|local::at0023|15.7%|",
              "7|local::at0024|15.2%|",
              "8|local::at0025|17.4%|"
            ]
          }
        }
      }
    },
    "rules": {
      "gt0014": {
        "id": "gt0014",
        "priority": 16,
        "when": [
          "$gt0004|Gender|.code=='at0006'"
        ],
        "then": [
          "$gt0004|Gender|=1|local::at0044|Female|"
        ]
      },
      "gt0015": {
        "id": "gt0015",
        "priority": 15,
        "when": [
          "$gt0004|Gender|.code=='at0005'"
        ],
        "then": [
          "$gt0004|Gender|=0|local::at0043|Male|"
        ]
      },
      "gt0016": {
        "id": "gt0016",
        "priority": 14,
        "when": [
          "$gt0003|Age|>($currentDateTime-65,a)"
        ],
        "then": [
          "$gt0003|Age|=0|local::at0036|Under 65|"
        ]
      },
      "gt0017": {
        "id": "gt0017",
        "priority": 11,
        "when": [
          "$gt0004|Gender|!=null",
          "$gt0003|Age|!=null",
          "$gt0005|Congestive Heart Failure|!=null",
          "$gt0006|Hypertension history|!=null",
          "$gt0007|Stroke/TIA/Thromboembolism|!=null",
          "$gt0008|Vascular disease (prior MI, peripheral artery disease, or aortic plaque)|!=null",
          "$gt0009|Diabetes|!=null"
        ],
        "then": [
          "$gt0019|Total score|.magnitude=$gt0003|Age|.value+$gt0004|Gender|.value+$gt0005|Congestive Heart Failure|.value+$gt0006|Hypertension history|.value+$gt0007|Stroke/TIA/Thromboembolism|.value+$gt0008|Vascular disease (prior MI, peripheral artery disease, or aortic plaque)|.value+$gt0009|Diabetes|.value"
        ]
      },
      "gt0020": {
        "id": "gt0020",
        "priority": 10,
        "when": [
          "$gt0019|Total score|==0"
        ],
        "then": [
          "$gt0011|Risk assessment|=0|local::at0005|Low risk|"
        ]
      },
      "gt0021": {
        "id": "gt0021",
        "priority": 9,
        "when": [
          "$gt0019|Total score|==1"
        ],
        "then": [
          "$gt0011|Risk assessment|=1|local::at0006|Intermediate risk|",
          "$gt0012|Annual stroke risk|=0|local::at0008|0.6%|",
          "$gt0013|Annual risk of stroke/TIA/thromboembolism|=0|local::at0017|0.9%|"
        ]
      },
      "gt0022": {
        "id": "gt0022",
        "priority": 8,
        "when": [
          "$gt0019|Total score|==2"
        ],
        "then": [
          "$gt0011|Risk assessment|=2|local::at0007|High risk|",
          "$gt0012|Annual stroke risk|=1|local::at0009|2.2%|",
          "$gt0013|Annual risk of stroke/TIA/thromboembolism|=1|local::at0018|2.9%|"
        ]
      },
      "gt0023": {
        "id": "gt0023",
        "priority": 7,
        "when": [
          "$gt0019|Total score|==3"
        ],
        "then": [
          "$gt0011|Risk assessment|=2|local::at0007|High risk|",
          "$gt0012|Annual stroke risk|=2|local::at0010|3.2%|",
          "$gt0013|Annual risk of stroke/TIA/thromboembolism|=2|local::at0019|4.6%|"
        ]
      },
      "gt0024": {
        "id": "gt0024",
        "priority": 6,
        "when": [
          "$gt0019|Total score|==4"
        ],
        "then": [
          "$gt0011|Risk assessment|=2|local::at0007|High risk|",
          "$gt0012|Annual stroke risk|=3|local::at0011|4.8%|",
          "$gt0013|Annual risk of stroke/TIA/thromboembolism|=3|local::at0020|6.7%|"
        ]
      },
      "gt0025": {
        "id": "gt0025",
        "priority": 5,
        "when": [
          "$gt0019|Total score|==5"
        ],
        "then": [
          "$gt0011|Risk assessment|=2|local::at0007|High risk|",
          "$gt0012|Annual stroke risk|=4|local::at0012|7.2%|",
          "$gt0013|Annual risk of stroke/TIA/thromboembolism|=4|local::at0021|10.0%|"
        ]
      },
      "gt0026": {
        "id": "gt0026",
        "priority": 4,
        "when": [
          "$gt0019|Total score|==6"
        ],
        "then": [
          "$gt0011|Risk assessment|=2|local::at0007|High risk|",
          "$gt0012|Annual stroke risk|=5|local::at0013|9.7%|",
          "$gt0013|Annual risk of stroke/TIA/thromboembolism|=5|local::at0022|13.6%|"
        ]
      },
      "gt0027": {
        "id": "gt0027",
        "priority": 3,
        "when": [
          "$gt0019|Total score|==7"
        ],
        "then": [
          "$gt0011|Risk assessment|=2|local::at0007|High risk|",
          "$gt0012|Annual stroke risk|=6|local::at0014|11.2%|",
          "$gt0013|Annual risk of stroke/TIA/thromboembolism|=6|local::at0023|15.7%|"
        ]
      },
      "gt0028": {
        "id": "gt0028",
        "priority": 2,
        "when": [
          "$gt0019|Total score|==8"
        ],
        "then": [
          "$gt0011|Risk assessment|=2|local::at0007|High risk|",
          "$gt0012|Annual stroke risk|=7|local::at0015|10.8%|",
          "$gt0013|Annual risk of stroke/TIA/thromboembolism|=7|local::at0024|15.2%|"
        ]
      },
      "gt0029": {
        "id": "gt0029",
        "priority": 1,
        "when": [
          "$gt0019|Total score|==9"
        ],
        "then": [
          "$gt0011|Risk assessment|=2|local::at0007|High risk|",
          "$gt0012|Annual stroke risk|=8|local::at0016|12.2%|",
          "$gt0013|Annual risk of stroke/TIA/thromboembolism|=8|local::at0025|17.4%|"
        ]
      },
      "gt0030": {
        "id": "gt0030",
        "priority": 13,
        "when": [
          "$gt0003|Age|<=($currentDateTime-65,a)",
          "$gt0003|Age|>($currentDateTime-75,a)"
        ],
        "then": [
          "$gt0003|Age|=1|local::at0037|Between 65-74|"
        ]
      },
      "gt0031": {
        "id": "gt0031",
        "priority": 12,
        "when": [
          "$gt0003|Age|<=($currentDateTime-75,a)"
        ],
        "then": [
          "$gt0003|Age|=2|local::at0038|Above or equals to 75|"
        ]
      }
    }
  },
  "ontology": {
    "term_definitions": {
      "en": {
        "id": "en",
        "terms": {
          "gt0001": {
            "id": "gt0001",
            "text": "CHA₂DS₂-VASc score",
            "description": "A score used to calculate stroke risk for patients with atrial fibrillation. It facilitates the annual stratification of thromboembolic (TE) and ischemic stroke risk in patients with non-valvular atrial fibrillation (AF).\n"
          },
          "gt0014": {
            "id": "gt0014",
            "text": "Set female ",
            "description": ""
          },
          "gt0015": {
            "id": "gt0015",
            "text": "Set male",
            "description": ""
          },
          "gt0016": {
            "id": "gt0016",
            "text": "Set age to 0",
            "description": ""
          },
          "gt0017": {
            "id": "gt0017",
            "text": "Calculate total score",
            "description": "Study criteria: Atrial Fibrillation = Present"
          },
          "gt0020": {
            "id": "gt0020",
            "text": "CDS default",
            "description": ""
          },
          "gt0021": {
            "id": "gt0021",
            "text": "CDS total score 1",
            "description": ""
          },
          "gt0022": {
            "id": "gt0022",
            "text": "CDS total score 2",
            "description": ""
          },
          "gt0023": {
            "id": "gt0023",
            "text": "CDS total score 3",
            "description": ""
          },
          "gt0024": {
            "id": "gt0024",
            "text": "CDS total score 4",
            "description": ""
          },
          "gt0025": {
            "id": "gt0025",
            "text": "CDS total score 5",
            "description": ""
          },
          "gt0026": {
            "id": "gt0026",
            "text": "CDS total score 6",
            "description": ""
          },
          "gt0027": {
            "id": "gt0027",
            "text": "CDS total score 7",
            "description": ""
          },
          "gt0028": {
            "id": "gt0028",
            "text": "CDS total score 8",
            "description": ""
          },
          "gt0029": {
            "id": "gt0029",
            "text": "CDS total score 9",
            "description": ""
          },
          "gt0030": {
            "id": "gt0030",
            "text": "Set age to 1",
            "description": ""
          },
          "gt0031": {
            "id": "gt0031",
            "text": "Set age to 2",
            "description": ""
          },
          "gt0040": {
            "id": "gt0040",
            "text": "openEHR-EHR-OBSERVATION.chadsvas_score.v0"
          },
          "gt0041": {
            "id": "gt0041",
            "text": "Age"
          },
          "gt0042": {
            "id": "gt0042",
            "text": "Gender"
          },
          "gt0043": {
            "id": "gt0043",
            "text": "Congestive Heart Failure"
          },
          "gt0044": {
            "id": "gt0044",
            "text": "Hypertension"
          },
          "gt0045": {
            "id": "gt0045",
            "text": "Previous stroke"
          },
          "gt0046": {
            "id": "gt0046",
            "text": "Vascular disease"
          },
          "gt0047": {
            "id": "gt0047",
            "text": "Diabetes"
          },
          "gt0048": {
            "id": "gt0048",
            "text": "openEHR-EHR-OBSERVATION.chadsvas_score.v0"
          },
          "gt0049": {
            "id": "gt0049",
            "text": "Total score"
          },
          "gt0050": {
            "id": "gt0050",
            "text": "openEHR-EHR-EVALUATION.cha2ds2_vasc_assessment.v0"
          },
          "gt0051": {
            "id": "gt0051",
            "text": "Annual stroke risk"
          },
          "gt0052": {
            "id": "gt0052",
            "text": "Annual risk of stroke/TIA/thromboembolism"
          }
        }
      }
    }
  }
}