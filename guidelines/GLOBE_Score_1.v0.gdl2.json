{
  "uuid": "9bc43cad-1058-4f65-b81b-01af8affed94",
  "id": "GLOBE_Score_1.v0",
  "gdl_version": "2.1",
  "concept": "gt0001",
  "language": {
    "original_language": "ISO_639-1::en"
  },
  "description": {
    "original_author": {
      "name": "Xue Wu; Yueyan Li; Zipei Yang",
      "email": "yueyan.li@outlook.com"
    },
    "lifecycle_state": "DRAFTED",
    "details": {
      "en": {
        "id": "en"
      }
    },
    "other_details": {
      "en": "writing..."
    }
  },
  "definition": {
    "data_bindings": {
      "gt0019": {
        "id": "gt0019",
        "model_id": "openEHR-EHR-OBSERVATION.basic_demographic_lm_rev.v1",
        "template_id": "openEHR-EHR-OBSERVATION.basic_demographic_lm_rev.v1",
        "type": "INPUT",
        "elements": {
          "gt0020": {
            "id": "gt0020",
            "path": "/data[at0001]/events[at0002]/data[at0003]/items[at0013]",
            "data_type": "DV_QUANTITY",
            "units": [
              "a"
            ]
          }
        }
      },
      "gt0021": {
        "id": "gt0021",
        "model_id": "openEHR-EHR-OBSERVATION.lab_test-bilirubin.v1",
        "template_id": "openEHR-EHR-OBSERVATION.lab_test-bilirubin.v1",
        "type": "INPUT",
        "elements": {
          "gt0022": {
            "id": "gt0022",
            "path": "/data[at0001]/events[at0002]/data[at0003]/items[at0091]",
            "data_type": "DV_QUANTITY",
            "units": [
              "mg/dl",
              "umol/l"
            ]
          }
        }
      },
      "gt0023": {
        "id": "gt0023",
        "model_id": "openEHR-EHR-OBSERVATION.lab_test-alp.v1",
        "template_id": "openEHR-EHR-OBSERVATION.lab_test-alp.v1",
        "type": "INPUT",
        "elements": {
          "gt0024": {
            "id": "gt0024",
            "path": "/data[at0001]/events[at0002]/data[at0003]/items[at0078]",
            "data_type": "DV_QUANTITY",
            "units": [
              "U/l"
            ]
          }
        }
      },
      "gt0025": {
        "id": "gt0025",
        "model_id": "openEHR-EHR-OBSERVATION.laboratory_test_result-serum_albumin.v1",
        "template_id": "openEHR-EHR-OBSERVATION.laboratory_test_result-serum_albumin.v1",
        "type": "INPUT",
        "elements": {
          "gt0026": {
            "id": "gt0026",
            "path": "/data[at0001]/events[at0002]/data[at0003]/items[at0.121]",
            "data_type": "DV_QUANTITY",
            "units": [
              "gm/dl",
              "gm/l"
            ]
          }
        }
      },
      "gt0027": {
        "id": "gt0027",
        "model_id": "openEHR-EHR-OBSERVATION.apri_ast_platelet_ratio_index.v0",
        "template_id": "openEHR-EHR-OBSERVATION.apri_ast_platelet_ratio_index.v0",
        "type": "INPUT",
        "elements": {
          "gt0028": {
            "id": "gt0028",
            "path": "/data[at0001]/events[at0002]/data[at0003]/items[at0006]",
            "data_type": "DV_QUANTITY",
            "units": [
              "10*9/l"
            ]
          }
        }
      },
      "gt0029": {
        "id": "gt0029",
        "model_id": "openEHR-EHR-EVALUATION.revised_trauma_score.v1",
        "template_id": "openEHR-EHR-EVALUATION.revised_trauma_score.v1",
        "type": "OUTPUT",
        "elements": {
          "gt0030": {
            "id": "gt0030",
            "path": "/data[at0001]/items[at0002]",
            "data_type": "DV_QUANTITY"
          }
        }
      },
      "gt0087": {
        "id": "gt0087",
        "model_id": "openEHR-EHR-OBSERVATION.basic_demographic_lm_rev.v1",
        "template_id": "openEHR-EHR-OBSERVATION.basic_demographic_lm_rev.v1",
        "type": "OUTPUT",
        "elements": {
          "gt0088": {
            "id": "gt0088",
            "path": "/data[at0001]/events[at0002]/data[at0003]/items[at0013]",
            "data_type": "DV_QUANTITY"
          }
        }
      },
      "gt0089": {
        "id": "gt0089",
        "model_id": "openEHR-EHR-CLUSTER.bilirubin.v0",
        "template_id": "openEHR-EHR-CLUSTER.bilirubin.v0",
        "type": "OUTPUT",
        "elements": {
          "gt0090": {
            "id": "gt0090",
            "path": "/items[at0001]",
            "data_type": "DV_QUANTITY"
          }
        }
      },
      "gt0091": {
        "id": "gt0091",
        "model_id": "openEHR-EHR-OBSERVATION.lab_test-alp.v1",
        "template_id": "openEHR-EHR-OBSERVATION.lab_test-alp.v1",
        "type": "OUTPUT",
        "elements": {
          "gt0092": {
            "id": "gt0092",
            "path": "/data[at0001]/events[at0002]/data[at0003]/items[at0078]",
            "data_type": "DV_QUANTITY"
          }
        }
      },
      "gt0093": {
        "id": "gt0093",
        "model_id": "openEHR-EHR-OBSERVATION.laboratory_test_result-serum_albumin.v1",
        "template_id": "openEHR-EHR-OBSERVATION.laboratory_test_result-serum_albumin.v1",
        "type": "OUTPUT",
        "elements": {
          "gt0094": {
            "id": "gt0094",
            "path": "/data[at0001]/events[at0002]/data[at0003]/items[at0.121]",
            "data_type": "DV_QUANTITY",
            "units": [
              "gm/dl",
              "gm/l"
            ]
          }
        }
      },
      "gt0095": {
        "id": "gt0095",
        "model_id": "openEHR-EHR-CLUSTER.bilirubin.v0",
        "template_id": "openEHR-EHR-CLUSTER.bilirubin.v0",
        "type": "INPUT",
        "elements": {
          "gt0096": {
            "id": "gt0096",
            "path": "/items[at0001]",
            "data_type": "DV_QUANTITY",
            "units": [
              "umol/l",
              "mg/dl"
            ]
          }
        }
      },
      "gt0097": {
        "id": "gt0097",
        "model_id": "openEHR-EHR-OBSERVATION.lab_test-alt.v1",
        "template_id": "openEHR-EHR-OBSERVATION.lab_test-alt.v1",
        "type": "INPUT",
        "elements": {
          "gt0098": {
            "id": "gt0098",
            "path": "/data[at0001]/events[at0002]/data[at0003]/items[at0078]",
            "data_type": "DV_QUANTITY",
            "units": [
              "U/l"
            ]
          }
        }
      },
      "gt0099": {
        "id": "gt0099",
        "model_id": "openEHR-EHR-OBSERVATION.lab_test-serum_albumin.v1",
        "template_id": "openEHR-EHR-OBSERVATION.lab_test-serum_albumin.v1",
        "type": "INPUT",
        "elements": {
          "gt0100": {
            "id": "gt0100",
            "path": "/data[at0001]/events[at0002]/data[at0003]/items[at0078.3]",
            "data_type": "DV_QUANTITY",
            "units": [
              "gm/dl",
              "gm/l"
            ]
          }
        }
      },
      "gt0101": {
        "id": "gt0101",
        "model_id": "openEHR-EHR-OBSERVATION.apri_ast_platelet_ratio_index.v0",
        "template_id": "openEHR-EHR-OBSERVATION.apri_ast_platelet_ratio_index.v0",
        "type": "OUTPUT",
        "elements": {
          "gt0102": {
            "id": "gt0102",
            "path": "/data[at0001]/events[at0002]/data[at0003]/items[at0006]",
            "data_type": "DV_QUANTITY"
          }
        }
      },
      "gt0109": {
        "id": "gt0109",
        "model_id": "openEHR-EHR-OBSERVATION.meld_score.v1",
        "template_id": "openEHR-EHR-OBSERVATION.meld_score.v1",
        "type": "OUTPUT",
        "elements": {
          "gt0110": {
            "id": "gt0110",
            "path": "/data[at0001]/events[at0002]/data[at0003]/items[at0004]",
            "data_type": "DV_QUANTITY",
            "units": [
              "1"
            ]
          },
          "gt0111": {
            "id": "gt0111",
            "path": "/data[at0001]/events[at0002]/data[at0003]/items[at0005]",
            "data_type": "DV_QUANTITY",
            "units": [
              "1"
            ]
          }
        }
      }
    },
    "templates": {
      "gt0053": {
        "id": "gt0053",
        "model_id": "generic_model"
      }
    },
    "rules": {
      "gt0086": {
        "id": "gt0086",
        "priority": 8,
        "then": [
          "$gt0088|Age|.precision=6",
          "$gt0088|Age|.magnitude=$gt0020|Age|.magnitude*0.044378"
        ]
      },
      "gt0040": {
        "id": "gt0040",
        "priority": 7,
        "then": [
          "$gt0090|Bilirubin|.precision=6",
          "$gt0090|Bilirubin|.magnitude=log($gt0022|Total Bilirubin|.magnitude/$gt0096|ULN of Bilirubin|.magnitude)*0.93982"
        ]
      },
      "gt0039": {
        "id": "gt0039",
        "priority": 6,
        "then": [
          "$gt0092|ALP|.precision=6",
          "$gt0092|ALP|.magnitude=log($gt0024|ALP|.magnitude/$gt0098|ULN of ALP|.magnitude)"
        ]
      },
      "gt0038": {
        "id": "gt0038",
        "priority": 5,
        "then": [
          "$gt0094|Serum Albumin|.precision=6",
          "$gt0094|Serum Albumin|.magnitude=$gt0026|Serum Albumin|.magnitude/$gt0100|LLN of albumin|.magnitude*2.266708"
        ]
      },
      "gt0042": {
        "id": "gt0042",
        "priority": 4,
        "then": [
          "$gt0102|Platelet count|.precision=6",
          "$gt0102|Platelet count|.magnitude=$gt0028|Platelet count|.magnitude*0.002581"
        ]
      },
      "gt0008": {
        "id": "gt0008",
        "priority": 3,
        "when": [
          "$gt0022|Total Bilirubin|.unit==$gt0096|ULN of Bilirubin|.unit",
          "$gt0026|Serum Albumin|.unit==$gt0100|LLN of albumin|.unit"
        ],
        "then": [
          "$gt0030|GLOBE score|.magnitude=$gt0020|Age|.magnitude*0.044378+log($gt0022|Total Bilirubin|.magnitude/$gt0096|ULN of Bilirubin|.magnitude)*0.93982+log($gt0024|ALP|.magnitude/$gt0098|ULN of ALP|.magnitude)*0.335648-$gt0026|Serum Albumin|.magnitude/$gt0100|LLN of albumin|.magnitude*2.266708-$gt0028|Platelet count|.magnitude*0.002581+1.216865",
          "$gt0030|GLOBE score|.precision=3"
        ]
      },
      "gt0107": {
        "id": "gt0107",
        "priority": 2,
        "when": [
          "$gt0030|GLOBE score|!=null"
        ],
        "then": [
          "$gt0110|S(5)|.magnitude=0.9385^exp($gt0030|GLOBE score|.magnitude)",
          "$gt0110|S(5)|.precision=3"
        ]
      },
      "gt0108": {
        "id": "gt0108",
        "priority": 1,
        "when": [
          "$gt0030|GLOBE score|!=null"
        ],
        "then": [
          "$gt0111|S(10)|.magnitude=0.8429^exp($gt0030|GLOBE score|.magnitude)",
          "$gt0111|S(10)|.precision=3"
        ]
      }
    }
  },
  "ontology": {
    "term_definitions": {
      "en": {
        "id": "en",
        "terms": {
          "gt0001": {
            "id": "gt0001",
            "text": "GLOBE_Score_1"
          },
          "gt0008": {
            "id": "gt0008",
            "text": "GLOBE score",
            "description": ""
          },
          "gt0019": {
            "id": "gt0019",
            "text": "openEHR-EHR-OBSERVATION.basic_demographic_lm_rev.v1"
          },
          "gt0020": {
            "id": "gt0020",
            "text": "Age"
          },
          "gt0021": {
            "id": "gt0021",
            "text": "openEHR-EHR-OBSERVATION.lab_test-bilirubin.v1"
          },
          "gt0022": {
            "id": "gt0022",
            "text": "Total Bilirubin"
          },
          "gt0023": {
            "id": "gt0023",
            "text": "openEHR-EHR-OBSERVATION.lab_test-alp.v1"
          },
          "gt0024": {
            "id": "gt0024",
            "text": "ALP"
          },
          "gt0025": {
            "id": "gt0025",
            "text": "openEHR-EHR-OBSERVATION.laboratory_test_result-serum_albumin.v1"
          },
          "gt0026": {
            "id": "gt0026",
            "text": "Serum Albumin"
          },
          "gt0027": {
            "id": "gt0027",
            "text": "openEHR-EHR-OBSERVATION.apri_ast_platelet_ratio_index.v0"
          },
          "gt0028": {
            "id": "gt0028",
            "text": "Platelet count"
          },
          "gt0029": {
            "id": "gt0029",
            "text": "openEHR-EHR-EVALUATION.revised_trauma_score.v1"
          },
          "gt0030": {
            "id": "gt0030",
            "text": "GLOBE score"
          },
          "gt0038": {
            "id": "gt0038",
            "text": "Albumin",
            "description": ""
          },
          "gt0039": {
            "id": "gt0039",
            "text": "alp",
            "description": ""
          },
          "gt0040": {
            "id": "gt0040",
            "text": "bilirubin",
            "description": ""
          },
          "gt0042": {
            "id": "gt0042",
            "text": "platelet",
            "description": ""
          },
          "gt0053": {
            "id": "gt0053",
            "text": "123"
          },
          "gt0086": {
            "id": "gt0086",
            "text": "Age",
            "description": ""
          },
          "gt0087": {
            "id": "gt0087",
            "text": "openEHR-EHR-OBSERVATION.basic_demographic_lm_rev.v1"
          },
          "gt0088": {
            "id": "gt0088",
            "text": "Age"
          },
          "gt0089": {
            "id": "gt0089",
            "text": "openEHR-EHR-CLUSTER.bilirubin.v0"
          },
          "gt0090": {
            "id": "gt0090",
            "text": "Bilirubin"
          },
          "gt0091": {
            "id": "gt0091",
            "text": "openEHR-EHR-OBSERVATION.lab_test-alp.v1"
          },
          "gt0092": {
            "id": "gt0092",
            "text": "ALP"
          },
          "gt0093": {
            "id": "gt0093",
            "text": "openEHR-EHR-OBSERVATION.laboratory_test_result-serum_albumin.v1"
          },
          "gt0094": {
            "id": "gt0094",
            "text": "Serum Albumin"
          },
          "gt0095": {
            "id": "gt0095",
            "text": "openEHR-EHR-CLUSTER.bilirubin.v0"
          },
          "gt0096": {
            "id": "gt0096",
            "text": "ULN of Bilirubin"
          },
          "gt0097": {
            "id": "gt0097",
            "text": "openEHR-EHR-OBSERVATION.lab_test-alt.v1"
          },
          "gt0098": {
            "id": "gt0098",
            "text": "ULN of ALP"
          },
          "gt0099": {
            "id": "gt0099",
            "text": "openEHR-EHR-OBSERVATION.lab_test-serum_albumin.v1"
          },
          "gt0100": {
            "id": "gt0100",
            "text": "LLN of albumin"
          },
          "gt0101": {
            "id": "gt0101",
            "text": "openEHR-EHR-OBSERVATION.apri_ast_platelet_ratio_index.v0"
          },
          "gt0102": {
            "id": "gt0102",
            "text": "Platelet count"
          },
          "gt0107": {
            "id": "gt0107",
            "text": "S5",
            "description": ""
          },
          "gt0108": {
            "id": "gt0108",
            "text": "S10",
            "description": ""
          },
          "gt0109": {
            "id": "gt0109",
            "text": "openEHR-EHR-OBSERVATION.meld_score.v1"
          },
          "gt0110": {
            "id": "gt0110",
            "text": "S(5)"
          },
          "gt0111": {
            "id": "gt0111",
            "text": "S(10)"
          }
        }
      }
    }
  }
}