{
  "id": "NIVO_Score.v0.0.1-draft",
  "gdl_version": "2.1",
  "concept": "gt0001",
  "language": {
    "original_language": "ISO_639-1::en"
  },
  "description": {
    "original_author": {
      "name": "Kevin Arjona",
      "email": "kevin.arjona@cambio.se",
      "organisation": "Cambio CDS",
      "date": "2025-08-06"
    },
    "lifecycle_state": "DRAFTED",
    "details": {
      "en": {
        "id": "en",
        "purpose": "To calculate the NIVO score and predict in-hospital mortality for patients with acute respiratory failure on NIV.",
        "keywords": [
          "prognosis",
          "mortality",
          "failure",
          "respiratory",
          "ventilation",
          "noninvasive",
          "niv",
          "score"
        ],
        "use": "Use in patients with acute respiratory failure immediately following initiation of noninvasive ventilation (NIV) to predict the risk of in-hospital mortality and support decisions regarding escalation of care (e.g., consideration for early intubation).",
        "misuse": "Not to be used for patients not receiving NIV or for conditions other than acute respiratory failure.\n\nNot applicable if the required input data from the archetype is missing. \n\nThe guideline provides a risk prediction, not a definitive clinical directive.",
        "copyright": "© Cambio CDS"
      }
    },
    "other_details": {
      "references": "Hartley T, Lane ND, Steer J, Elliott MW, Sovani MP, Curtis HJ, Fuller ER, Murphy PB, Shrikrishna D, Lewis KE, Ward NR, Turnbull CD, Hart N, Bourke SC. The Noninvasive Ventilation Outcomes (NIVO) score: prediction of in-hospital mortality in exacerbations of COPD requiring assisted ventilation. Eur Respir J. 2021 Aug 12;58(2):2004042. doi: 10.1183/13993003.04042-2020. Erratum in: Eur Respir J. 2021 Nov 11;58(5):2054042. doi: 10.1183/13993003.54042-2020. PMID: 33479109; PMCID: PMC8358235.\n\nAlzaabi O, Guerot E, Planquette B, Diehl JL, Soumagne T. Predicting outcomes in patients with exacerbation of COPD requiring mechanical ventilation. Ann Intensive Care. 2024 Oct 20;14(1):159. doi: 10.1186/s13613-024-01394-z. PMID: 39427276; PMCID: PMC11491423.",
      "en": "Calculates the NIVO score and provides the corresponding estimated risk of in-hospital mortality."
    }
  },
  "definition": {
    "data_bindings": {
      "gt0002": {
        "id": "gt0002",
        "model_id": "openEHR-EHR-EVALUATION.health_risk.v1",
        "template_id": "openEHR-EHR-EVALUATION.health_risk.v1",
        "type": "OUTPUT",
        "elements": {
          "gt0003": {
            "id": "gt0003",
            "path": "/data[at0001]/items[at0003]",
            "data_type": "DV_TEXT"
          },
          "gt0004": {
            "id": "gt0004",
            "path": "/data[at0001]/items[at0015]",
            "data_type": "DV_TEXT"
          },
          "gt0005": {
            "id": "gt0005",
            "path": "/data[at0001]/items[at0004]",
            "data_type": "DV_TEXT"
          }
        }
      },
      "gt0006": {
        "id": "gt0006",
        "model_id": "openEHR-EHR-OBSERVATION.total_score.v0",
        "template_id": "openEHR-EHR-OBSERVATION.total_score.v0",
        "type": "OUTPUT",
        "elements": {
          "gt0007": {
            "id": "gt0007",
            "path": "/data[at0001]/events[at0002]/data[at0003]/items[at0006]",
            "data_type": "DV_COUNT"
          }
        }
      },
      "gt0012": {
        "id": "gt0012",
        "model_id": "openEHR-EHR-OBSERVATION.nivo_score.v0",
        "template_id": "openEHR-EHR-OBSERVATION.nivo_score.v0",
        "type": "INPUT",
        "elements": {
          "gt0013": {
            "id": "gt0013",
            "path": "/data[at0001]/events[at0002]/data[at0003]/items[at0006]",
            "data_type": "DV_ORDINAL",
            "allowed_values": [
              "0|local::at0012|No|",
              "1|local::at0013|Yes|"
            ]
          },
          "gt0014": {
            "id": "gt0014",
            "path": "/data[at0001]/events[at0002]/data[at0003]/items[at0007]",
            "data_type": "DV_ORDINAL",
            "allowed_values": [
              "0|local::at0014|15|",
              "1|local::at0015|≤ 14|"
            ]
          },
          "gt0015": {
            "id": "gt0015",
            "path": "/data[at0001]/events[at0002]/data[at0003]/items[at0008]",
            "data_type": "DV_ORDINAL",
            "allowed_values": [
              "0|local::at0016|No|",
              "1|local::at0017|Yes|"
            ]
          },
          "gt0016": {
            "id": "gt0016",
            "path": "/data[at0001]/events[at0002]/data[at0003]/items[at0009]",
            "data_type": "DV_ORDINAL",
            "allowed_values": [
              "0|local::at0018|≥ 7.25|",
              "1|local::at0019|< 7.25|"
            ]
          },
          "gt0017": {
            "id": "gt0017",
            "path": "/data[at0001]/events[at0002]/data[at0003]/items[at0010]",
            "data_type": "DV_ORDINAL",
            "allowed_values": [
              "0|local::at0020|≤ 12 h|",
              "2|local::at0021|> 12 h|"
            ]
          },
          "gt0018": {
            "id": "gt0018",
            "path": "/data[at0001]/events[at0002]/data[at0003]/items[at0011]",
            "data_type": "DV_ORDINAL",
            "allowed_values": [
              "0|local::at0022|Not too dyspneic to leave house (eMRCD 1-4)|",
              "2|local::at0023|Too dyspneic to leave house but independent with washing/dressing (eMRCD 5a)|",
              "3|local::at0024|Too dyspneic to leave house and wash/dress (eMRCD 5b)|"
            ]
          }
        }
      }
    },
    "rules": {
      "gt0010": {
        "id": "gt0010",
        "priority": 2,
        "when": [
          "$gt0013|Chest radiograph consolidation|!=null",
          "$gt0014|Glasgow Coma Scale|!=null",
          "$gt0015|Atrial fibrillation|!=null",
          "$gt0016|pH|!=null",
          "$gt0017|Time to acidemia|!=null",
          "$gt0018|Extended MRC dyspnea scale (eMRCD)|!=null"
        ],
        "then": [
          "$gt0007|Total score|.magnitude=$gt0013|Chest radiograph consolidation|.value+$gt0014|Glasgow Coma Scale|.value+$gt0015|Atrial fibrillation|.value+$gt0016|pH|.value+$gt0017|Time to acidemia|.value+$gt0018|Extended MRC dyspnea scale (eMRCD)|.value"
        ]
      },
      "gt0011": {
        "id": "gt0011",
        "priority": 1,
        "when": [
          "$gt0007|Total score|"
        ]
      }
    }
  },
  "ontology": {
    "term_definitions": {
      "en": {
        "id": "en",
        "terms": {
          "gt0001": {
            "id": "gt0001",
            "text": "NIVO Score",
            "description": "Calculates the NIVO score and provides the corresponding estimated risk of in-hospital mortality."
          },
          "gt0002": {
            "id": "gt0002",
            "text": "openEHR-EHR-EVALUATION.health_risk.v1"
          },
          "gt0003": {
            "id": "gt0003",
            "text": "Risk assessment"
          },
          "gt0004": {
            "id": "gt0004",
            "text": "In-hospital Mortality"
          },
          "gt0005": {
            "id": "gt0005",
            "text": "90-day Mortality"
          },
          "gt0006": {
            "id": "gt0006",
            "text": "openEHR-EHR-OBSERVATION.total_score.v0"
          },
          "gt0007": {
            "id": "gt0007",
            "text": "Total score"
          },
          "gt0010": {
            "id": "gt0010",
            "text": "Total Score",
            "description": ""
          },
          "gt0012": {
            "id": "gt0012",
            "text": "openEHR-EHR-OBSERVATION.nivo_score.v0"
          },
          "gt0013": {
            "id": "gt0013",
            "text": "Chest radiograph consolidation"
          },
          "gt0014": {
            "id": "gt0014",
            "text": "Glasgow Coma Scale"
          },
          "gt0015": {
            "id": "gt0015",
            "text": "Atrial fibrillation"
          },
          "gt0016": {
            "id": "gt0016",
            "text": "pH"
          },
          "gt0017": {
            "id": "gt0017",
            "text": "Time to acidemia"
          },
          "gt0018": {
            "id": "gt0018",
            "text": "Extended MRC dyspnea scale (eMRCD)"
          },
          "gt0011": {
            "id": "gt0011",
            "text": "",
            "description": ""
          }
        }
      }
    }
  }
}